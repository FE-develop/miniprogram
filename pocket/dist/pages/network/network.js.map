{"version":3,"sources":["pages/network/network.js"],"names":["app","getApp","Page","data","noticeStatus","wifiStatus","onLoad","options","setData","globalData","networkNotice","onShow","nets","wx","getNetworkType","success","networkType","fail","noticeChange","e","console","log","detail","value","showToast","title","icon","switchWifi","startWifi","getWifiList","stopWifi","getWifi"],"mappings":";;AAAA,IAAMA,MAAMC,QAAZ;AACAC,KAAK;AACHC,QAAM;AACJC,kBAAc,KADV,EACiB;AACrBC,gBAAY,IAFR,CAEc;AAFd,GADH;AAKHC,QALG,kBAKIC,OALJ,EAKa;AACd,SAAKC,OAAL,CAAa;AACXJ,oBAAcJ,IAAIS,UAAJ,CAAeC,aAAf,IAAgC;AADnC,KAAb;AAGD,GATE;AAUHC,QAVG,oBAUM;AAAA;;AACP;AACA,QAAMC,OAAO;AACX,cAAQ,QADG;AAEX,YAAM,MAFK;AAGX,YAAM,MAHK;AAIX,YAAM,MAJK;AAKX,YAAM,MALK;AAMX,cAAQ,KANG;AAOX,iBAAW;AAPA,KAAb;AASAC,OAAGC,cAAH,CAAkB;AAChBC,eAAS,iBAACZ,IAAD,EAAU;AAAA,YAEfa,WAFe,GAGbb,IAHa,CAEfa,WAFe;;AAIjB,cAAKR,OAAL,CAAa;AACXQ,uBAAaJ,KAAKI,WAAL;AADF,SAAb;AAGD,OARe;AAShBC,YAAM,gBAAM;AACV,cAAKT,OAAL,CAAa;AACXQ,uBAAa;AADF,SAAb;AAGD;AAbe,KAAlB;AAeD,GApCE;;AAqCH;AACAE,cAtCG,wBAsCUC,CAtCV,EAsCa;AACdC,YAAQC,GAAR,CAAY,2BAAZ,EAAyCF,EAAEG,MAAF,CAASC,KAAlD;AACAvB,QAAIS,UAAJ,CAAeC,aAAf,GAA+BS,EAAEG,MAAF,CAASC,KAAxC;AACA,SAAKf,OAAL,CAAa;AACXJ,oBAAce,EAAEG,MAAF,CAASC;AADZ,KAAb;AAGAV,OAAGW,SAAH,CAAa;AACXC,aAAON,EAAEG,MAAF,CAASC,KAAT,GAAiB,OAAjB,GAA2B,OADvB;AAEXG,YAAM;AAFK,KAAb;AAID,GAhDE;;AAiDH;AACAC,YAlDG,sBAkDQR,CAlDR,EAkDW;AACZC,YAAQC,GAAR,CAAYF,EAAEG,MAAF,CAASC,KAArB;AACA,QAAIJ,EAAEG,MAAF,CAASC,KAAb,EAAoB;AAClBV,SAAGe,SAAH,CAAa;AACXb,iBAAS,mBAAM;AACb;AACA;AACA;AACA;AACAF,aAAGgB,WAAH;AACD;AAPU,OAAb;AASD,KAVD,MAUO;AACLhB,SAAGiB,QAAH,CAAY;AACVf,iBAAS,mBAAM;AACb;AACA;AACA;AACA;AACD;AANS,OAAZ;AAQD;AACF,GAxEE;;AAyEH;AACAgB,SA1EG,qBA0EO;AACR;AACD;AA5EE,CAAL","file":"network.js","sourcesContent":["const app = getApp();\nPage({\n  data: {\n    noticeStatus: false, // 网络切换通知状态\n    wifiStatus: true, // 开启/关闭wifi\n  },\n  onLoad(options) {\n    this.setData({\n      noticeStatus: app.globalData.networkNotice || false\n    })\n  },\n  onShow() {\n    // 获取网络状态\n    const nets = {\n      'wifi': 'wifi网络',\n      '2g': '2g网络',\n      '3g': '3g网络',\n      '4g': '4g网络',\n      '5g': '5g网络',\n      'none': '无网络',\n      'unknown': 'Android下不常见的网络类型',\n    }\n    wx.getNetworkType({\n      success: (data) => {\n        const {\n          networkType\n        } = data;\n        this.setData({\n          networkType: nets[networkType]\n        })\n      },\n      fail: () => {\n        this.setData({\n          networkType: '获取失败'\n        })\n      }\n    });\n  },\n  // 网络状态切换提示\n  noticeChange(e) {\n    console.log('switch1 发生 change 事件，携带值为', e.detail.value);\n    app.globalData.networkNotice = e.detail.value;\n    this.setData({\n      noticeStatus: e.detail.value\n    })\n    wx.showToast({\n      title: e.detail.value ? '提醒已开启' : '提醒已关闭',\n      icon: 'success'\n    })\n  },\n  // 开启/关闭wifi\n  switchWifi(e) {\n    console.log(e.detail.value);\n    if (e.detail.value) {\n      wx.startWifi({\n        success: () => {\n          // wx.showToast({\n          //   title: 'WiFi已开启',\n          //   icon: 'success'\n          // })\n          wx.getWifiList();\n        }\n      })\n    } else {\n      wx.stopWifi({\n        success: () => {\n          // wx.showToast({\n          //   title: 'WiFi已关闭',\n          //   icon: 'success'\n          // })\n        }\n      });\n    }\n  },\n  // wifi获取\n  getWifi() {\n    // wx.getConnectedWifi(Object object)\n  }\n})"]}